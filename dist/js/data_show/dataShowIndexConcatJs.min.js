var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/info",{templateUrl:"iamp_info.html",controller:"factoryInfoCtrl"}).when("/pageList",{templateUrl:"iamp_pageList.html",controller:"pageListCtrl"}).when("/powers",{templateUrl:"iamp_powers.html",controller:"powerCtrl"}).when("/waters",{templateUrl:"iamp_waters.html",controller:"waterCtrl"}).when("/fertilizer",{templateUrl:"iamp_fertilizer.html",controller:"fertilizerCtrl"}).when("/environment",{templateUrl:"iamp_environment.html",controller:"environmentCtrl"}).when("/production",{templateUrl:"iamp_production.html",controller:"productionCtrl"}).when("/qualityTrace",{templateUrl:"iamp_qualityTrace.html",controller:"qualityTraceCtrl"}).when("/orders",{templateUrl:"iamp_order.html",controller:"ordersCtrl"}).when("/dataCompare",{templateUrl:"iamp_dataCompare.html",controller:"dataCompareCtrl"}).when("/login",{templateUrl:"iamp_login.html",controller:"loginCtrl"}).otherwise({redirectTo:"/pageList"})}]),app.config(["$httpProvider",function(e){e.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",e.defaults.transformRequest=[function(e){var t=function(e){var o,a,n,r,i,l,s,c="";for(o in e)if(a=e[o],a instanceof Array)for(s=0;s<a.length;++s)i=a[s],n=o+"["+s+"]",l={},l[n]=i,c+=t(l)+"&";else if(a instanceof Object)for(r in a)i=a[r],n=o+"["+r+"]",l={},l[n]=i,c+=t(l)+"&";else void 0!==a&&null!==a&&(c+=encodeURIComponent(o)+"="+encodeURIComponent(a)+"&");return c.length?c.substr(0,c.length-1):c};return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]),function(e){e.fn_encodeURIComponent=function(e){return encodeURIComponent(e)},e.fn_decodeURIComponent=function(e){return decodeURIComponent(e)}}(window),app.run(["$rootScope","ajax_factoryIndex","$http","$timeout",function(e,t,o,a){e.var_common_notAllowString="数据获取失败，请确认网络连接是否正确或联系管理员13810981883！",e.common_pagenum=30,e.common_pageStart=1,e.common_getMaxPagenum=5e3,e.myHeight=function(){var t=document.getElementById("fixed_left_id"),o=document.getElementById("factoryInfo_div1"),a=document.getElementById("factory_details"),n=document.getElementById("factorySensors_table_top");if(t){var r=window.document.body.clientWidth||window.document.documentElement.clientWidth;o&&(o.style.width=r-238+"px"),a&&(a.style.width=r-238+"px"),n&&(n.style.width=r-238+"px"),e.right_content_width=r-238-20}},e.fn_login=function(e){e?window.location.href="iamp_end_wrapper.html":(window.localStorage.setItem("username",""),window.location.href="iamp_login.html")},e.fn_common_angular_getId=function(e){var t=document.getElementById(e);return angular.element(t)},e.login_username=window.localStorage.getItem("username"),e.fn_common_reload=function(){window.scrollTo(0,0),window.setTimeout(function(){e.myHeight()},200)},window.setTimeout(function(){e.fn_common_reload()},100),e.var_common_alertTxt="11",e.var_common_showAlertTxtbox=!1,e.fn_common_showAlertTxt=function(t){e.fn_common_removeClassHidden("commonWrapper"),e.var_common_showAlertTxtbox=!e.var_common_showAlertTxtbox,e.var_common_alertTxt=t},e.fn_common_removeClassHidden=function(e){var t=document.getElementsByClassName(e);angular.element(t).removeClass("hidden")},e.fn_common_removeClassHidden("extend_menu"),e.fn_common_removeClassHidden("indexInfo"),e.fn_common_WaitingDivShow=function(t){t?e.var_common_waitingDivShow=!0:a(function(){e.var_common_waitingDivShow=!1},100)},window.onresize=function(){window.location.reload()},e.var_common_ajax_long_timer=9,e.fn_common_goto=function(t){var o=window.location.hash;return o.indexOf("login")>0?void e.fn_common_showAlertTxt("您好，请登录！"):(0===t&&(window.location.href="#/info"),1===t&&(window.location.href="#/orders"),2===t&&(window.location.href="#/dataCompare"),3===t&&(window.location.href="#/qualityTrace"),4===t&&(window.location.href="#/login"),void(5===t&&(window.location.href="#/powers")))},e.fn_go_pageList=function(){window.location.href="#/pageList"},e.fn_common_reload_style=function(){var t=window.location.hash;t.indexOf("info")>0&&(e.fn_common_angular_getId("front_info").addClass("extend_menu_active"),e.fn_common_angular_getId("front_orders").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_dataCompare").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_qualityTrance").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_login").removeClass("extend_menu_active")),t.indexOf("orders")>0&&(e.fn_common_angular_getId("front_info").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_orders").addClass("extend_menu_active"),e.fn_common_angular_getId("front_dataCompare").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_qualityTrance").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_login").removeClass("extend_menu_active")),t.indexOf("dataCompare")>0&&(e.fn_common_angular_getId("front_info").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_orders").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_dataCompare").addClass("extend_menu_active"),e.fn_common_angular_getId("front_qualityTrance").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_login").removeClass("extend_menu_active")),t.indexOf("qualityTrace")>0&&(e.fn_common_angular_getId("front_info").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_orders").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_dataCompare").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_qualityTrance").addClass("extend_menu_active"),e.fn_common_angular_getId("front_login").removeClass("extend_menu_active")),t.indexOf("login")>0&&(e.fn_common_angular_getId("front_info").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_orders").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_dataCompare").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_qualityTrance").removeClass("extend_menu_active"),e.fn_common_angular_getId("front_login").addClass("extend_menu_active"))}}]),app.service("ajax_factoryIndex",function(){var e="http://127.0.0.1:8080/IAMP",t=e+"/gcpi/sysconfig/sensor/sensordetail";this.sensordetail=function(){return t};var o=e+"/gcpi/sysconfig/sensor/addsensor";this.addsensor=function(){return o};var a=e+"/gcpi/sysconfig/sensor/updatesensor";this.updatesensor=function(){return a};var n=e+"/gcpi/sysconfig/sensor/delsensor";this.delsensor=function(){return n};var r=e+"/";this.imgupload_absoluteurl=function(){return r};var i=e+"/login";this.login=function(){return i};var l=e+"/sysconfig/devicetype";this.devicetype=function(){return l};var s=e+"/main/alarmnum";this.get_alarms_num=function(){return s};var c=e+"/main/alarms";this.get_alarms=function(){return c};var d=e+"/main/alarmed";this.get_alarmed=function(){return d};var m=e+"/main/detail";this.get_factoryDetail=function(){return m};var f=e+"/main/orders";this.get_factoryOrders=function(){return f};var u=e+"/factory/sensors/current";this.get_sensorsDetail=function(){return u};var p=e+"/factory/videos/current";this.videosCurrent=function(){return p};var y=e+"/factory/script/current";this.get_scriptDetail=function(){return y};var h=e+"/factory/exeunits/current";this.get_exeunitsDetail=function(){return h};var g=e+"/factory/script/oper";this.get_script_oper=function(){return g};var b=e+"/factory/exeunit/oper";this.get_exeunit_oper=function(){return b};var v=e+"/factory/oper";this.get_factory_oper=function(){return v};var S=e+"/factory/sensors/history";this.get_sensors_history=function(){return S};var _=e+"/sysconfig/concretedetail";this.concretedetail=function(){return _};var x=e+"/sysconfig/addphoto";this.addphoto=function(){return x};var w=e+"/sysconfig/devicedetail";this.get_map=function(){return w};var C=e+"/sysconfig/videodetail";this.videodetail=function(){return C};var k=e+"/sysconfig/addvideo";this.addvideo=function(){return k};var L=e+"/sysconfig/deletevideo";this.deletevideo=function(){return L};var z=e+"/sysconfig/updatevideo";this.updatevideo=function(){return z};var I=e+"/usermgr/roledetail",A=e+"/usermgr/addrole",M=e+"/usermgr/updaterole",W=e+"/usermgr/deleterole";this.getUserRole=function(){return I},this.addUserRole=function(){return A},this.alterUserRole=function(){return M},this.delUserRole=function(){return W};var B=e+"/usermgr/userinfodetail",O=e+"/usermgr/adduserinfo",T=e+"/usermgr/updateuserinfo",E=e+"/usermgr/deleteuserinfo";this.getUser=function(){return B},this.addUser=function(){return O},this.alterUser=function(){return T},this.delUser=function(){return E};var R=e+"/sysconfig/modbustcpdetail";this.modbustcpdetail=function(){return R};var N=e+"/sysconfig/addmodbustcp";this.addmodbustcp=function(){return N};var D=e+"/sysconfig/updatemodbustcp";this.updatemodbustcp=function(){return D};var F=e+"/sysconfig/deletemodbustcp";this.deletemodbustcp=function(){return F};var G=e+"/sysconfig/factorytypedetail";this.get_ajax_factoryType=function(){return G};var P=e+"/sysconfig/addfactorytype";this.add_factoryType=function(){return P};var $=e+"/sysconfig/updatefactorytype";this.alter_factoryType=function(){return $};var j=e+"/sysconfig/deletefactorytpye";this.del_factoryType=function(){return j};var H=e+"/sysconfig/factorydetail";this.get_plantFactory=function(){return H};var U=e+"/sysconfig/addfactory";this.add_plantFactory=function(){return U};var q=e+"/sysconfig/updatefactory";this.alter_plantFactory=function(){return q};var Y=e+"/sysconfig/deletefactory";this.del_plantFactory=function(){return Y};var V=e+"/sysconfig/modbusrtudetail";this.get_modbus=function(){return V};var X=e+"/sysconfig/addmodbusrtu";this.add_modbus=function(){return X};var J=e+"/sysconfig/updatemodbusrtu";this.alter_modbus=function(){return J};var Z=e+"/sysconfig/deletemodbusrtu";this.del_modbus=function(){return Z};var K=e+"/sysconfig/sensordetail";this.get_sensor=function(){return K};var Q=e+"/sysconfig/addsensor";this.add_sensor=function(){return Q};var ee=e+"/sysconfig/updatesensor";this.alter_sensor=function(){return ee};var te=e+"/sysconfig/deletesensor";this.del_sensor=function(){return te};var oe=e+"/sysconfig/exeunitdetail";this.get_actuator=function(){return oe};var ae=e+"/sysconfig/addexeunit";this.add_actuator=function(){return ae};var ne=e+"/sysconfig/updateexeunit";this.alter_actuator=function(){return ne};var re=e+"/sysconfig/deleteexeunit";this.del_actuator=function(){return re};var ie=e+"/sysconfig/scriptdetail";this.get_script=function(){return ie};var le=e+"/sysconfig/addscript";this.add_script=function(){return le};var se=e+"/sysconfig/scriptoperdetail";this.get_scriptoperdetail=function(){return se};var ce=e+"/sysconfig/scriptlogicdetail";this.get_scriptlogicdetail=function(){return ce};var de=e+"/sysconfig/updatescript";this.alter_script=function(){return de};var me=e+"/sysconfig/deletescript";this.del_script=function(){return me};var fe=e+"/sysconfig/logconfig";this.logconfig=function(){return fe};var ue=e+"/sysconfig/logconfig/update";this.logconfigUpdate=function(){return ue};var pe=e+"/logmgr/syslogs";this.log_syslogs=function(){return pe};var ye=e+"/logmgr/userlogs";this.log_userlogs=function(){return ye};var he=e+"/logmgr/businesslogs";this.log_businesslogs=function(){return he};var ge=e+"/logmgr/alarmslogs";this.log_alarmslogs=function(){return ge}}),app.controller("dataCompareCtrl",["$scope","$http","ajax_factoryIndex",function(e,t,o){e.fn_common_reload_style(),e.get_data={pageNum:e.common_pagenum,page:e.common_pageStart,sortColumn:"sensorName",sortType:0,keywords:""},e.fn_get_data=function(){t({method:"post",url:o.sensordetail(),data:JSON.stringify(e.get_data),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.arr_data=t.data.records,e.all_page_num=t.data.all_page_num}).error(function(e){})},e.fn_get_data(),e.arr_sensor=[{name:"CO2",id:"1"},{name:"温度",id:"1"},{name:"湿度",id:"1"},{name:"光照",id:"1"},{name:"EC",id:"1"},{name:"温度(1)",id:"1"},{name:"温度(2)",id:"1"},{name:"湿度(1)",id:"1"},{name:"湿度(2)",id:"1"},{name:"光光照光照光照光照光照光照照",id:"1"},{name:"EC(1)",id:"1"},{name:"温度",id:"1"},{name:"湿度",id:"1"},{name:"光照",id:"1"},{name:"EC",id:"1"},{name:"温度(1)",id:"1"},{name:"温度(2)",id:"1"},{name:"湿度(1)",id:"1"},{name:"湿度(2)",id:"1"},{name:"湿度(3)",id:"1"},{name:"EC(1)",id:"1"},{name:"温度",id:"1"},{name:"湿度",id:"1"},{name:"光照",id:"1"},{name:"EC",id:"1"},{name:"温度(1)",id:"1"},{name:"温度(2)",id:"1"},{name:"湿度(1)",id:"1"},{name:"湿度(2)",id:"1"},{name:"湿度(3)",id:"1"},{name:"CO2(2)",id:"1"}],e.fn_dataCompare=function(){var e=echarts.init(document.getElementById("dataCompare")),t=["#d32d2d","green","#4183cf"],o=({color:t,tooltip:{trigger:"none",axisPointer:{type:"cross"}},legend:{textStyle:{color:t},data:["2015 降水量","2016 降水量"]},grid:{top:70,bottom:50},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:t[0]}},axisPointer:{label:{formatter:function(e){return"降水量  "+e.value+(e.seriesData.length?"："+e.seriesData[0].data:"")}}},data:["2015-1","2015-2","2015-3","2015-4","2015-5","2015-6","2015-7","2015-8","2015-9","2015-10","2015-11","2015-12"]},{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:t[1]}},axisPointer:{label:{formatter:function(e){return"降水量  "+e.value+(e.seriesData.length?"："+e.seriesData[0].data:"")}}},data:["2016-1","2016-2","2016-3","2016-4","2016-5","2016-6","2016-7","2016-8","2016-9","2016-10","2016-11","2016-12"]}],yAxis:[{type:"value",axisLine:{lineStyle:{color:t[2]}},splitLine:{lineStyle:{width:1,color:"rgba(255,255,255,.2)"}}}],series:[{name:"2015 降水量",type:"line",xAxisIndex:1,smooth:!0,data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3]},{name:"2016 降水量",type:"line",smooth:!0,data:[3.9,5.9,11.1,18.7,48.3,69.2,231.6,46.6,55.4,18.4,10.3,.7]}]},{color:t,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{textStyle:{color:t},data:["北京温度","东营温度"]},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,dataZoom:{show:!0,realtime:!0,start:20,end:80},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:t[2]}},data:function(){for(var e=[],t=1;t<=30;t++)e.push("2013-03-"+t);return e}()}],yAxis:[{type:"value",axisLine:{lineStyle:{color:t[2]}},splitLine:{lineStyle:{width:1,color:"rgba(255,255,255,.2)"}}}],series:[{name:"北京温度",type:"line",smooth:!0,data:function(){for(var e=[],t=1;t<=30;t++)e.push(Math.round(30*Math.random()));return e}()},{name:"东营温度",type:"line",smooth:!0,data:function(){for(var e=[],t=1;t<=30;t++)e.push(Math.round(10*Math.random()));return e}()}]});e.setOption(o)},e.fn_curr_sensor_index=function(t){e.curr_sensor_index=t},e.fn_curr_sensor_index(0),e.fn_init=function(){var t=document.getElementById("dataCompare"),o=document.getElementById("id_sensors"),a=document.getElementById("earth"),n=document.getElementById("dataCompare_right"),r=document.body.clientHeight||document.documentElement.clientHeight,i=window.document.body.clientWidth||window.document.documentElement.clientWidth,l=130;i>1650&&(r+=150,l+=30),t&&(t.style.height=r-70+"px"),t.style.width=i-150+"px",t.style.top=l+"px",o&&(o.style.height=r-180+"px"),a&&(a.style.height=r+50+"px"),n&&(n.style.top=l+45+"px"),e.fn_dataCompare(),setTimeout(function(){e.fn_dataComparefunction()},10)},e.fn_init(),e.fn_dataComparefunction=function(){var e=echarts.init(document.getElementById("earth")),t=[{name:"北京",value:0},{name:"山东",value:1}];option_earth={visualMap:{pieces:[{name:0,color:"#2aaaf3",borderColor:"black"},{value:1,color:"#2aaaf3"}],show:!1},series:[{name:"中国",type:"map",mapType:"china",itemStyle:{normal:{areaColor:"#021c3a",borderColor:"rgba(100,149,237,1)",borderWidth:.5},emphasis:{borderWidth:1,borderColor:"black",areaColor:"#2aaaf3",label:{shadowColor:"#fff",shadowBlur:10,show:!0}}},selectedMode:"multiple",label:{normal:{show:!0,textStyle:{color:"#0e3b70"}},emphasis:{show:!0}},markPoint:{symbol:"pin",symbolSize:50,label:{normal:{show:!0,formatter:function(e){return e.name}}}},data:t}]},e.setOption(option_earth)}}]),app.controller("factoryInfoCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("earth")),t=[{coord:[116.3,39.95],symbolSize:20},{coord:[115.8,39.5],symbolSize:20},{coord:[120.38,37.35],symbolSize:20}],t=[{name:"国家农业科技展示园",value0:984,value1:300,value2:95,value3:86,value4:9.5},{name:"中粮智慧农场",value0:867,value1:300,value2:94,value3:76,value4:9.3},{name:"东营一期",value0:5698,value1:2e3,value2:86,value3:73,value4:9.6},{name:"贵阳园区",value0:4587,value1:2e3,value2:90,value3:89,value4:9.7}],o={"国家农业科技展示园":[116.34,39.97],"中粮智慧农场":[116.077,39.597],"东营一期":[118.68,37.439],"贵阳园区":[106.636,26.652]},a=function(e){for(var t=[],a=0;a<e.length;a++){var n=o[e[a].name];n&&t.push({name:e[a].name,value:n.concat(e[a].value0).concat(e[a].value1).concat(e[a].value2).concat(e[a].value3).concat(e[a].value4)})}return t},n={tooltip:{trigger:"item"},geo:{map:"china",label:{emphasis:{show:!1}},zoom:1.15,itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#02C39A"},{offset:1,color:"#028090"}],globalCoord:!1},borderColor:"#111"},emphasis:{areaColor:"#025f6f"}}},series:[{name:"园区",type:"effectScatter",coordinateSystem:"geo",data:a(t.sort(function(e,t){return t.value-e.value}).slice(0,6)),symbolSize:25,showEffectOn:"render",rippleEffect:{brushType:"fill",scale:5},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"bottom",color:"#02a67d",fontWeight:"bold",fontSize:17,show:!1}},itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#FFC057"},{offset:1,color:"#F98B60"}],globalCoord:!1},shadowBlur:10,shadowColor:"#333"}},zlevel:1,tooltip:{padding:0,enterable:!0,transitionDuration:1,textStyle:{color:"#ffffff",decoration:"none",fontSize:22},backgroundColor:"rgba(2,195,154,0.4)",formatter:function(e){var t="";return t='<div style="height:250px;width:300px;border-radius: 30px">    <div >'+e.name+'</div>    <div style="height:110px;width:100%;">        <div style="padding-left:18px;padding-top:10px">            <div>总产量:'+e.data.value[2]+'吨</div>        </div>        <div style="padding-left:18px;padding-top:5px">            <span>种植面积:'+e.data.value[3]+'公顷</span>        </div>        <div style="padding-left:18px;padding-top:5px">            <span>资源利用率:'+e.data.value[4]+'%</span>        </div>        <div style="padding-left:18px;padding-top:5px">            <span>劳动生产率:'+e.data.value[5]+'%</span>        </div>        <div style="padding-left:18px;padding-top:5px">            <span>综合评分:'+e.data.value[6]+"分</span>        </div>    </div></div>"}}}]},r=0,i=null,l=n.series[0].data.length;i&&clearInterval(i),i=setInterval(function(){e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r%l}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:r%l}),r++},3e3),e.on("mouseover",function(t){clearInterval(i),e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t.dataIndex}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t.dataIndex})}),e.on("mouseout",function(t){i&&clearInterval(i),i=setInterval(function(){e.dispatchAction({type:"downplay",seriesIndex:0}),e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r%l}),e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:r%l}),r++},3e3)}),e.setOption(n)}(),function(){var e=echarts.init(document.getElementById("radar")),t=[[223,250,250,4,200,100,40]],o=[[256,200,200,4,159,59,40]],a=[[256,200,200,4,120,88,40]],n=[[256,200,200,4,99,94,40]],r={normal:{opacity:.7}},i={normal:{width:1,opacity:.2}},l={legend:{top:"3.5%",left:"-2%",data:["国家农业科技展示园","中粮智慧农场","东营一期","贵阳园区"],itemGap:10,textStyle:{color:"#fff",fontWeight:"bold",fontSize:15},orient:"vertical",selectedMode:"single"},tooltip:{trigger:"item",textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},itemStyle:{normal:{areaStyle:{type:"default"}}},radar:{indicator:[{name:"用电量",max:300},{name:"用水量",max:250},{name:"劳动力数量",max:300},{name:"库存量",max:5},{name:"订单量",max:200},{name:"产量",max:100}],shape:"circle",splitNumber:5,name:{textStyle:{fontWeight:"bold",color:"#029972",fontSize:17}},splitLine:{lineStyle:{color:["rgba(255, 255, 255, 0.1)","rgba(255, 255, 255, 0.2)","rgba(255, 255, 255, 0.4)","rgba(255, 255, 255, 0.6)","rgba(255, 255, 255, 0.6)","rgba(255, 255, 255, 0.7)","rgba(255, 255, 255, 0.8)","rgba(255, 255, 255, 1)"].reverse(),width:2}},splitArea:{show:!1},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.5)",width:2}}},series:[{name:"国家农业科技展示园",type:"radar",lineStyle:i,data:t,symbol:"none",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#02C39A"},{offset:1,color:"#028090"}],globalCoord:!1}}},areaStyle:r},{name:"中粮智慧农场",type:"radar",lineStyle:i,data:a,symbol:"none",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#02C39A"},{offset:1,color:"#028090"}],globalCoord:!1}}},areaStyle:r},{name:"东营一期",type:"radar",lineStyle:i,data:o,symbol:"none",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#02C39A"},{offset:1,color:"#028090"}],globalCoord:!1}}},areaStyle:r},{name:"贵阳园区",type:"radar",lineStyle:i,data:n,symbol:"none",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#02C39A"},{offset:1,color:"#028090"}],globalCoord:!1}}},areaStyle:r}]},s=0,c=null;c&&clearInterval(c),c=setInterval(function(){return 0==s?(e.dispatchAction({type:"legendToggleSelect",name:"国家农业科技展示园"}),void(s=1)):1==s?(e.dispatchAction({type:"legendToggleSelect",name:"中粮智慧农场"}),void(s=2)):2==s?(e.dispatchAction({type:"legendToggleSelect",name:"东营一期"}),void(s=3)):3==s?(e.dispatchAction({type:"legendToggleSelect",name:"贵阳园区"}),void(s=0)):void 0},3e3),e.setOption(l)}(),e.arr3=[{time:"2017.06.30",area:"国家农业科技展示园",detail:"叶菜工厂运行正常"},{time:"2017.06.30",area:"东营一期",detail:"追溯管理子系统在线"},{time:"2017.06.30",area:"东营一期",detail:"仓储管理子系统在线"},{time:"2017.06.30",area:"中粮智慧农场",detail:"劳动力管理子系统在线"},{time:"2017.06.30",area:"国家农业科技展示园",detail:"生产计划管理子系统在线"}],e.fn_push_arr=function(){var t=e.arr3[0];e.arr3.splice(0,1),e.arr3.push(t),e.$apply()},window.setInterval(function(){e.fn_push_arr()},3e3)}]),app.controller("pageListCtrl",["$scope",function(e){e.fn_go_page=function(e){switch(e){case 1:window.location.href="#/info";break;case 2:window.location.href="#/powers";break;case 3:window.location.href="#/waters";break;case 4:window.location.href="#/fertilizer";break;case 5:window.location.href="#/environment";break;case 6:window.location.href="#/production";break;case 7:window.location.href="#/orders";break;case 8:window.location.href="#/qualityTrace"}}}]),app.directive("commonLoad",function(){return{restrict:"AE",replace:!1,templateUrl:"factory_common_loading.html",scope:{"do":"="},link:function(e,t,o){},controller:["$scope","$element",function(e,t){}]}}),app.controller("environmentCtrl",["$scope","$rootScope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a,n){for(var r=echarts.init(document.getElementById("N_fertilizer_bar")),i=window.document.body.clientWidth||window.document.documentElement.clientWidth,l=+new Date,s=(new Date,5e3),c=[],d=[300*Math.random()],m=[300*Math.random()],f=[300*Math.random()],u=[300*Math.random()],p=1;p<90;p++){var y=new Date(l-=s);c.unshift([y.getFullYear(),y.getMonth()+1,y.getDate()].join("-").concat(" ").concat([y.getHours(),y.getMinutes(),y.getSeconds()].join(":")))}for(var p=1;p<90;p++)d.unshift(Math.round(20*(Math.random()-.5)+d[p-1])),m.unshift(Math.round(20*(Math.random()-.5)+m[p-1])),f.unshift(Math.round(20*(Math.random()-.5)+f[p-1])),u.unshift(Math.round(20*(Math.random()-.5)+u[p-1]));var h={tooltip:{trigger:"axis",textStyle:{fontWeight:"normal",color:"#fff",fontSize:i>2500?45:22}},legend:{data:["温度","湿度","光照","CO2"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:i>2500?35:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:c,axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}},yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}},{nameLocation:"start",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],dataZoom:[{type:"inside",start:50,end:100},{start:50,end:100,dataBackground:{areaStyle:{color:"#22d8d2"}},borderColor:"rgba(255, 255, 255, .001)",bottom:"0.5%",textStyle:{color:"#32ba87",fontSize:i>2500?30:15,fontWeight:"bold"},fillerColor:"#2b6580",handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:i>2500?"150%":"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"温度",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{normal:{color:"#2c88a2"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#45EBA5"},{offset:1,color:"#1D566E"}])}},data:d},{name:"湿度",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{normal:{color:"#2c88a2"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#45EBA5"},{offset:1,color:"#1D566E"}])}},data:m},{name:"光照",type:"line",smooth:!0,yAxisIndex:1,symbol:"none",sampling:"average",itemStyle:{normal:{color:"#2c88a2"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#45EBA5"},{offset:1,color:"#1D566E"}])}},data:f},{name:"CO2",type:"line",yAxisIndex:1,smooth:!0,symbol:"none",sampling:"average",itemStyle:{normal:{color:"#2c88a2"}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#45EBA5"},{offset:1,color:"#1D566E"}])}},data:u}]};r.setOption(h),setInterval(function(){c.splice(0,1);var e=new Date;c.push([e.getFullYear(),e.getMonth()+1,e.getDate()].join("-").concat(" ").concat([e.getHours(),e.getMinutes(),e.getSeconds()].join(":"))),d.splice(0,1),m.splice(0,1),f.splice(0,1),u.splice(0,1),d.push(Math.round(20*(Math.random()-.5)+d[0])),m.push(Math.round(20*(Math.random()-.5)+m[0])),f.push(Math.round(20*(Math.random()-.5)+f[0])),u.push(Math.round(20*(Math.random()-.5)+u[0])),r.setOption(h)},5e3);for(var g=echarts.init(document.getElementById("K_fertilizer_bar")),b=[],v=[300*Math.random()],S=[300*Math.random()],_=[300*Math.random()],x=[300*Math.random()],p=1;p<30;p++){var y=new Date(l-=s);b.unshift([y.getFullYear(),y.getMonth()+1,y.getDate()].join("-").concat(" ").concat([y.getHours(),y.getMinutes(),y.getSeconds()].join(":")))}for(var p=1;p<30;p++)v.unshift(Math.round(20*(Math.random()-.5)+v[p-1])),S.unshift(Math.round(20*(Math.random()-.5)+S[p-1])),_.unshift(Math.round(20*(Math.random()-.5)+_[p-1])),x.unshift(Math.round(20*(Math.random()-.5)+x[p-1]));var w={color:["#1D566E","#163A5F","#45EBA5","#21ABA5"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#1D566E"}},textStyle:{fontWeight:"normal",color:"#fff",fontSize:i>2500?45:22}},legend:{data:["温度","湿度","光照","CO2"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:i>2500?35:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:b,axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}},{nameLocation:"start",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],series:[{name:"温度",type:"line",stack:"总量",areaStyle:{normal:{}},yAxisIndex:1,label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:v},{name:"湿度",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:S},{name:"光照",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:_},{name:"CO2",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:x}]};g.setOption(w),setInterval(function(){b.splice(0,1);var e=new Date;b.push([e.getFullYear(),e.getMonth()+1,e.getDate()].join("-").concat(" ").concat([e.getHours(),e.getMinutes(),e.getSeconds()].join(":"))),v.splice(0,1),S.splice(0,1),_.splice(0,1),x.splice(0,1),v.push(Math.round(20*(Math.random()-.5)+v[0])),S.push(Math.round(20*(Math.random()-.5)+S[0])),_.push(Math.round(20*(Math.random()-.5)+_[0])),x.push(Math.round(20*(Math.random()-.5)+x[0])),g.setOption(w)},5e3);for(var C=echarts.init(document.getElementById("P_fertilizer_bar")),k=[],L=[300*Math.random()],z=[300*Math.random()],I=[300*Math.random()],A=[300*Math.random()],p=1;p<30;p++){var y=new Date(l-=s);k.unshift([y.getFullYear(),y.getMonth()+1,y.getDate()].join("-").concat(" ").concat([y.getHours(),y.getMinutes(),y.getSeconds()].join(":")))}for(var p=1;p<30;p++)L.unshift(Math.round(20*(Math.random()-.5)+L[p-1])),z.unshift(Math.round(20*(Math.random()-.5)+z[p-1])),I.unshift(Math.round(20*(Math.random()-.5)+I[p-1])),A.unshift(Math.round(20*(Math.random()-.5)+A[p-1]));var M={color:["#163A5F","#45EBA5","#1D566E","#21ABA5"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#1D566E"}},textStyle:{fontWeight:"normal",color:"#fff",fontSize:i>2500?45:22}},legend:{data:["温度","湿度","光照","CO2"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:i>2500?35:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:k,axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}},{nameLocation:"start",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],series:[{name:"温度",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:L},{name:"湿度",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:z},{name:"光照",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:I},{name:"CO2",type:"line",stack:"总量",label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},areaStyle:{normal:{}},data:A}]};C.setOption(M),setInterval(function(){k.splice(0,1);var e=new Date;k.push([e.getFullYear(),e.getMonth()+1,e.getDate()].join("-").concat(" ").concat([e.getHours(),e.getMinutes(),e.getSeconds()].join(":"))),L.splice(0,1),z.splice(0,1),I.splice(0,1),A.splice(0,1),L.push(Math.round(20*(Math.random()-.5)+L[0])),z.push(Math.round(20*(Math.random()-.5)+z[0])),I.push(Math.round(20*(Math.random()-.5)+I[0])),A.push(Math.round(20*(Math.random()-.5)+A[0])),C.setOption(M)},5e3);for(var W=echarts.init(document.getElementById("CO2_bar")),B=[],O=[300*Math.random()],T=[300*Math.random()],E=[300*Math.random()],R=[300*Math.random()],p=1;p<30;p++){var y=new Date(l-=s);B.unshift([y.getFullYear(),y.getMonth()+1,y.getDate()].join("-").concat(" ").concat([y.getHours(),y.getMinutes(),y.getSeconds()].join(":")))}for(var p=1;p<30;p++)O.unshift(Math.round(20*(Math.random()-.5)+O[p-1])),T.unshift(Math.round(20*(Math.random()-.5)+T[p-1])),E.unshift(Math.round(20*(Math.random()-.5)+E[p-1])),R.unshift(Math.round(20*(Math.random()-.5)+R[p-1]));var N={color:["#45EBA5","#21ABA5","#1D566E","#163A5F"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#1D566E"}},textStyle:{fontWeight:"normal",
color:"#fff",fontSize:i>2500?45:22}},legend:{data:["温度","湿度","光照","CO2"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:i>2500?35:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:B,axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}},{nameLocation:"start",type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:i>2500?30:13}}],series:[{name:"温度",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:O},{name:"湿度",type:"line",stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:T},{name:"光照",type:"line",yAxisIndex:1,stack:"总量",areaStyle:{normal:{}},label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},data:E},{name:"CO2",type:"line",yAxisIndex:1,stack:"总量",label:{normal:{show:!0,position:"top",textStyle:{fontWeight:"bold",fontSize:i>2500?35:15}}},areaStyle:{normal:{}},data:R}]};W.setOption(N),setInterval(function(){B.splice(0,1);var e=new Date;B.push([e.getFullYear(),e.getMonth()+1,e.getDate()].join("-").concat(" ").concat([e.getHours(),e.getMinutes(),e.getSeconds()].join(":"))),O.splice(0,1),T.splice(0,1),E.splice(0,1),R.splice(0,1),O.push(Math.round(20*(Math.random()-.5)+O[0])),T.push(Math.round(20*(Math.random()-.5)+T[0])),E.push(Math.round(20*(Math.random()-.5)+E[0])),R.push(Math.round(20*(Math.random()-.5)+R[0])),W.setOption(N)},5e3)}]),app.controller("fertilizerCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("N_fertilizer_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#f8b195","#ff7388","#ffbec3","#7d42d0","#d78ff9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:t>2500?45:22}},legend:{data:["国家农业科技展示园","中粮智慧农场","东营园区","贵州园区","氮肥总量"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>2500?35:13}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:t>2500?30:13}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}},axisLabel:{fontSize:t>2500?30:13}}],series:[{name:"国家农业科技展示园",type:"bar",data:[320,332,301,334,390,330,332,301,334,390,330,400],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",data:[120,132,101,134,90,230,120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",data:[220,182,191,234,290,330,120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵州园区",type:"bar",data:[362,418,564,626,779,800,120,132,101,134,90,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}},{name:"氮肥总量",type:"line",data:[362,418,564,626,779,800,120,132,101,134,90,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("K_fertilizer_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#f8b195","#ff7388","#ffbec3","#7d42d0","#d78ff9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:t>2500?30:22}},legend:{data:["国家农业科技展示园","中粮智慧农场","东营园区","贵州园区","氮肥总量"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}}}],series:[{name:"国家农业科技展示园",type:"bar",data:[568,235,567,254,587,214,207,685,605,358,524,400],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",stack:"天然气用量",data:[587,954,254,368,874,568,574,205,658,458,255,366],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",stack:"天然气用量",data:[220,182,191,234,290,330,120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵州园区",type:"bar",data:[362,418,564,626,779,800,120,132,101,134,90,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}},{name:"氮肥总量",type:"line",data:[362,418,564,626,779,800,120,132,101,134,90,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("P_fertilizer_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#f8b195","#ff7388","#ffbec3","#7d42d0","#d78ff9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["国家农业科技展示园","中粮智慧农场","东营园区","贵州园区","氮肥总量"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}}}],series:[{name:"国家农业科技展示园",type:"bar",data:[320,332,301,334,390,330,332,301,334,390,330,400],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",stack:"天然气用量",data:[120,132,101,134,90,230,120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",stack:"天然气用量",data:[220,182,191,234,290,330,120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵州园区",type:"bar",data:[362,418,564,626,779,800,866,879,685,898,922,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}},{name:"氮肥总量",type:"line",data:[362,418,564,626,779,800,120,132,101,134,90,230],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("CO2_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#f8b195","#ff7388","#ffbec3","#7d42d0","#d78ff9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#ffffff",fontSize:12}},legend:{textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13},data:["国家农业科技展示园总CO2","中粮智慧农场总CO2","东营总CO2","贵阳总CO2"]},grid:{left:"3%",right:"35%",top:"8%",bottom:"3%",containLabel:!0},toolbox:{show:!1,feature:{saveAsImage:{}}},xAxis:{type:"category",axisLine:{lineStyle:{color:"#fff"}},data:["一月","二月","三月","四月","五月","六月"]},yAxis:{axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#fff"}},type:"value"},series:[{name:"国家农业科技展示园总CO2",smooth:!0,type:"line",symbolSize:8,symbol:"circle",data:[900,500,390,500,1200,820]},{name:"中粮智慧农场总CO2",smooth:!0,type:"line",symbolSize:8,symbol:"circle",data:[700,500,500,870,900,800]},{name:"东营总CO2",smooth:!0,type:"line",symbolSize:8,symbol:"circle",data:[2900,2e3,2e3,1320,1500,2e3]},{name:"贵阳总CO2",smooth:!0,type:"line",symbolSize:8,symbol:"circle",data:[3300,1e3,2005,1320,1900,2600]},{name:"国家农业科技展示园外购CO2",stack:"1",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1900,2600]},{name:"国家农业科技展示园食用菌回用CO2",stack:"1",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1700,2600]},{name:"中粮智慧农场外购CO2",stack:"2",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1300,2600]},{name:"中粮智慧农场食用菌回用CO2",stack:"2",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1900,2600]},{name:"东营外购CO2",stack:"3",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1500,2600]},{name:"东营食用菌回用CO2",stack:"3",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1600,2600]},{name:"贵阳外购CO2",stack:"4",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[3300,1e3,2050,1320,1800,2600]},{name:"贵阳食用菌回用CO2",stack:"4",type:"bar",itemStyle:{normal:{barBorderRadius:5}},data:[330,100,205,132,19,260]},{type:"pie",center:["83%","28%"],radius:["25%","40%"],label:{normal:{position:"center"}},data:[{value:335,name:"CO2总量",itemStyle:{normal:{color:"#ff7388"}},label:{normal:{formatter:"{d} %",textStyle:{color:"#ff7388",fontSize:20}}}},{value:180,name:"外购CO2",tooltip:{show:!1},itemStyle:{normal:{color:"#f8b195"}},label:{normal:{textStyle:{color:"#ff7388",fontSize:18,fontWeight:"bold"},formatter:"\n外购CO2"}}}]},{type:"pie",center:["83%","75%"],radius:["25%","40%"],label:{normal:{position:"center"}},data:[{value:435,name:"CO2总量",itemStyle:{normal:{color:"#ff7388"}},label:{normal:{formatter:"{d} %",textStyle:{color:"#ff7388",fontSize:20}}}},{value:100,name:"食用菌回用CO2",tooltip:{show:!1},itemStyle:{normal:{color:"#f8b195"}},label:{normal:{textStyle:{color:"#ff7388",fontSize:15,fontWeight:"bold"},formatter:"\n食用菌回用CO2"}}}]}]};e.setOption(o)}()}]),app.controller("ordersCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("product_curve")),t=function(){for(var e=[],t=1;t<13;t++)e.push(t+"月");return e}();option_product_curve={color:["#429ffd","#35c2bd","#0991ff","#3379e4"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["播种期","育苗期","定苗期","生长期","连续结果期","订单数"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",data:t,axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}}}],dataZoom:[{type:"inside",start:0,end:50},{start:0,end:50,dataBackground:{areaStyle:{color:"#429ffd"}},borderColor:"rgba(255, 255, 255, .001)",bottom:"0.5%",textStyle:{color:"#429ffd",fontSize:15,fontWeight:"bold"},fillerColor:"#429ffd",handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"播种期",type:"bar",stack:"总量",barMaxWidth:35,barGap:"10%",itemStyle:{normal:{color:"",label:{show:!0,textStyle:{color:"#fff"},position:"inside",formatter:function(e){return e.value>0?e.value:""}}}},data:[709,1217,855,2610,1719,1433,1544,3285,2208,1e3,2484,1078]},{name:"育苗期",type:"bar",stack:"总量",itemStyle:{normal:{color:"",barBorderRadius:0,label:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:""}}}},data:[327,1776,507,1200,800,482,314,1390,1001,951,381,220]},{name:"定苗期",type:"bar",stack:"总量",itemStyle:{normal:{color:"",barBorderRadius:0,label:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:""}}}},data:[400,1776,507,1200,800,482,610,1390,1001,951,381,220]},{name:"生长期",type:"bar",stack:"总量",itemStyle:{normal:{color:"",barBorderRadius:0,label:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:""}}}},data:[327,1776,507,1200,800,482,704,1390,1001,951,381,220]},{name:"连续结果期",type:"bar",stack:"总量",itemStyle:{normal:{color:"",barBorderRadius:0,label:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:""}}}},data:[327,1776,507,1200,800,482,504,1390,1001,951,381,220]},{name:"订单数",type:"line",stack:"总量",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(e){return e.value>0?e.value:""}}}},data:[2090,7104,2883,7410,5319,3401,3676,5560,6212,4804,2865,4298]}]},e.setOption(option_product_curve)}(),e.purch_arr=[{orderNo:"4357",orderType:"黄瓜",plantStatus:"未排产",orderGood:"种子100袋",goodArrTime:"2017.06.22"},{orderNo:"4357",orderType:"黄瓜",plantStatus:"未排产",orderGood:"化肥100袋",goodArrTime:"2017.06.30"},{orderNo:"4354",orderType:"番茄",plantStatus:"2017.05.14",orderGood:"岩棉100块",goodArrTime:"2017.06.29"},{orderNo:"4353",orderType:"生菜",plantStatus:"2017.05.12",orderGood:"培养架10条",goodArrTime:"2017.06.24"},{orderNo:"4353",orderType:"生菜",plantStatus:"2017.06.12",orderGood:"母液A10个单位",goodArrTime:"2017.06.24"}],e.labour_arr=[{labourNo:"000001",labourName:"张小平",labourContent:"育苗床消毒",labourTime:"2017.06.29",labourArea:"一区1005",labourScore:"8分"},{labourNo:"000004",labourName:"郑企志",labourContent:"定值条灌营养液",labourTime:"2017.06.29",labourArea:"三区3019",labourScore:"9分"},{labourNo:"000013",labourName:"叶振宇",labourContent:"打叶，落秧",labourTime:"2017.06.29",labourArea:"一区1015",labourScore:"7分"},{labourNo:"000007",labourName:"朱溶月",labourContent:"摘黄叶",labourTime:"2017.06.28",labourArea:"二区2001",labourScore:"8.5分"},{labourNo:"000003",labourName:"唐玄",labourContent:"病虫害防治",labourTime:"2017.06.28",labourArea:"二区2007",labourScore:"10分"},{labourNo:"000011",labourName:"蒋兆聪",labourContent:"筛选壮苗",labourTime:"2017.06.28",labourArea:"三区3013",labourScore:"9分"},{labourNo:"000021",labourName:"史伟",labourContent:"种子催芽处理",labourTime:"2017.06.28",labourArea:"一区1005",labourScore:"7分"}],e.product_arr1=[{orderNo:"4354",orderType:"黄瓜",plantTime:"2017.03.14",seedingTime:"2017.03.01-2017.03.19",plantArea:"三区3008"},{orderNo:"4353",orderType:"番茄",plantTime:"2017.03.14",seedingTime:"2017.03.10-2017.03.25",plantArea:"一区1006"},{orderNo:"4352",orderType:"番茄",plantTime:"2017.03.14",seedingTime:"2017.03.02-2017.03.18",plantArea:"一区1018"},{orderNo:"4351",orderType:"番茄",plantTime:"2017.03.14",seedingTime:"2017.03.01-2017.03.17",plantArea:"一区1001"},{orderNo:"4350",orderType:"番茄",plantTime:"2017.03.14",seedingTime:"2017.03.06-2017.03.27",plantArea:"一区1015"}],function(){var e=echarts.init(document.getElementById("labour_curve")),t=["2017.05.01","2017.05.02","2017.05.03","2017.05.04","2017.05.05","2017.05.06","2017.05.07","2017.05.08","2017.05.09","2017.05.10","2017.05.11","2017.05.12","2017.05.13","2017.05.14","2017.05.15","2017.05.16","2017.05.17","2017.05.18","2017.05.19","2017.05.20","2017.05.21","2017.05.22","2017.05.23","2017.05.24","2017.05.25","2017.05.26","2017.05.27","2017.05.28","2017.05.29","2017.05.30","2017.05.31"];option={color:["#429ffd","#35c2bd","#0991ff","#3379e4"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["计划用工","实际用工","满负荷"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},axisPointer:{link:{xAxisIndex:"all"}},grid:{top:"8%",left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",data:t,axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{name:"单位:(小时)",type:"value",axisLine:{lineStyle:{color:"#fff"}}}],dataZoom:[{type:"inside",start:0,end:30},{start:0,end:30,dataBackground:{areaStyle:{color:"#429ffd"}},borderColor:"rgba(255, 255, 255, .001)",bottom:"0.5%",textStyle:{color:"#429ffd",fontSize:15,fontWeight:"bold"},fillerColor:"#429ffd",handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"满负荷",type:"line",smooth:!0,showSymbol:!1,lineStyle:{normal:{width:1}},itemStyle:{normal:{color:""}},data:[300,300,300,300,300,300,300,300,300,300,400,400,400,400,400,500,500,500,500,500,500,300,500,500,500,500,500,500,600,600,600]},{name:"计划用工",type:"line",smooth:!0,lineStyle:{normal:{width:1}},markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最大值"}]},itemStyle:{normal:{color:""}},data:[213,232,246,252,200,280,320,310,350,340,340,350,360,410,420,420,430,440,420,430,420,400,410,450,490,480,500,520,530,510,516]},{name:"实际用工",type:"bar",barMaxWidth:19,itemStyle:{normal:{color:"",label:{show:!0,textStyle:{color:"#fff"},position:"top",formatter:function(e){return e.value>0?e.value:""}}}},data:[213,232,246,252,200,280,290,300,300,300,350,360,340,390,400,410,412,432,400,420,420,290,435,445,465,420,470,500,436,498,506]}]},e.setOption(option)}()}]),app.controller("powerCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("powers_sankey")),t={nodes:[{name:"总电量"},{name:"国家农业科技展示园"},{name:"中粮智慧农场"},{name:"东营一期"},{name:"贵阳园区"},{name:"温室"},{name:"植物工厂"},{name:"食用菌工厂"},{name:"其他"},{name:"补光灯"},{name:"施肥机"},{name:"空调"},{name:"锅炉"},{name:"暖气"},{name:"风机"},{name:"执行电机"},{name:"空压机"},{name:"水泵"},{name:"包装设备"},{name:"景观照明"},{name:"办公设备"},{name:"冷库"},{name:"机房"},{name:"中控室"},{name:"加湿设备"},{name:"其它"}],links:[{source:"总电量",target:"中粮智慧农场",value:4455},{source:"总电量",target:"国家农业科技展示园",value:1977},{source:"总电量",target:"东营一期",value:6354},{source:"总电量",target:"贵阳园区",value:4454},{source:"国家农业科技展示园",target:"温室",value:1020},{source:"国家农业科技展示园",target:"植物工厂",value:201},{source:"国家农业科技展示园",target:"食用菌工厂",value:141},{source:"国家农业科技展示园",target:"其他",value:570},{source:"中粮智慧农场",target:"温室",value:1086},{source:"中粮智慧农场",target:"植物工厂",value:2772},{source:"中粮智慧农场",target:"食用菌工厂",value:135},{source:"中粮智慧农场",target:"其他",value:444},{source:"东营一期",target:"温室",value:3600},{source:"东营一期",target:"其他",value:1314},{source:"东营一期",target:"食用菌工厂",value:1407},{source:"贵阳园区",target:"温室",value:2600},{source:"贵阳园区",target:"其他",value:1314},{source:"贵阳园区",target:"食用菌工厂",value:407},{source:"温室",target:"暖气",value:0},{source:"温室",target:"补光灯",value:147},{source:"温室",target:"风机",value:4368},{source:"温室",target:"执行电机",value:36},{source:"温室",target:"水泵",value:201},{source:"温室",target:"施肥机",value:528},{source:"温室",target:"包装设备",value:399},{source:"温室",target:"其它",value:.01},{source:"植物工厂",target:"空调",value:7.5},{source:"植物工厂",target:"暖气",value:100},{source:"植物工厂",target:"补光灯",value:2508},{source:"植物工厂",target:"风机",value:126},{source:"植物工厂",target:"执行电机",value:117},{source:"植物工厂",target:"水泵",value:198},{source:"植物工厂",target:"包装设备",value:36},{source:"植物工厂",target:"其它",value:.01},{source:"食用菌工厂",target:"空调",value:924},{source:"食用菌工厂",target:"加湿设备",value:93},{source:"食用菌工厂",target:"锅炉",value:183},{source:"食用菌工厂",target:"暖气",value:0},{source:"食用菌工厂",target:"补光灯",value:32},{source:"食用菌工厂",target:"风机",value:37},{source:"食用菌工厂",target:"空压机",value:96},{source:"食用菌工厂",target:"包装设备",value:132},{source:"食用菌工厂",target:"其它",value:500},{source:"其他",target:"冷库",value:1308},{source:"其他",target:"机房",value:336},{source:"其他",target:"中控室",value:133},{source:"其他",target:"景观照明",value:520},{source:"其他",target:"办公设备",value:1459}]},o={tooltip:{trigger:"item",triggerOn:"mousemove",textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},series:[{type:"sankey",layout:"none",data:t.nodes,links:t.links,itemStyle:{normal:{borderWidth:.5,borderColor:"#878787",color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ffb26d"},{offset:1,color:"#db555a"}],globalCoord:!1}}},lineStyle:{normal:{color:"#917661",curveness:.5,opacity:.3,shadowBlur:20,shadowColor:"#fff",shadowOffsetX:0,shadowOffsetY:0},emphasis:{color:"#cdcdcd",opacity:.2,curveness:.5,shadowBlur:20,shadowColor:20,shadowOffsetX:0,shadowOffsetY:0}},label:{normal:{show:!0,position:"right",offset:[0][0],textStyle:{color:"#db4745",fontStyle:"normal",fontWeight:"bold",fontFamily:"sans-serif",fontSize:18}}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("powers_pie")),t=(window.document.body.clientWidth||window.document.documentElement.clientWidth,{color:["#ff715e","#ffaf51","#59e78b","#ffee51","#71e8e0"],legend:{textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},tooltip:{trigger:"item",triggerOn:"mousemove",textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},series:[{name:"国家农业科技展示园",type:"pie",radius:["20%","35%"],center:["25%","30%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"温室"},{value:310,name:"叶菜工厂"},{value:234,name:"食用菌工厂"},{value:135,name:"人工光植物工厂"},{value:135,name:"黄瓜工厂"},{value:1548,name:"番茄工厂"}]},{name:"中粮智慧农场",type:"pie",radius:["20%","35%"],center:["75%","30%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:395,name:"温室"},{value:510,name:"叶菜工厂"},{value:444,name:"食用菌工厂"},{value:135,name:"人工光植物工厂"},{value:445,name:"黄瓜工厂"},{value:948,name:"番茄工厂"}]},{name:"东营园区",type:"pie",radius:["20%","35%"],center:["25%","75%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:435,name:"温室"},{value:10,name:"叶菜工厂"},{value:34,name:"食用菌工厂"},{value:135,name:"人工光植物工厂"},{value:35,name:"黄瓜工厂"},{value:48,name:"番茄工厂"}]},{name:"贵阳园区",type:"pie",radius:["20%","35%"],center:["75%","75%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:5465,name:"温室"},{value:3160,name:"叶菜工厂"},{value:2534,name:"食用菌工厂"},{value:1355,name:"茄子工厂"},{value:1135,name:"黄瓜工厂"},{value:148,name:"番茄工厂"}]}]});e.setOption(t)}(),function(){var e=echarts.init(document.getElementById("powers_bar")),t=(window.document.body.clientWidth||window.document.documentElement.clientWidth,{color:["#ff715e","#ffaf51","#59e78b","#ffee51","#71e8e0"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["中国农业科技展示园","中粮智慧农场","东营园区","贵阳园区"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}}},yAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"中国农业科技展示园",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:[320,302,301,334,390,330],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:[120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:[220,182,191,234,290,330],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵阳园区",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:[150,212,201,154,190,330],itemStyle:{normal:{barBorderRadius:10}}}]});e.setOption(t)}()}]),app.controller("productionCtrl",["$scope","$http","ajax_factoryIndex","$timeout","$interval",function(e,t,o,a,n){e.show_production_bar1=!0,e.show_production_bar2=!1,e.show_production_bar3=!0,e.show_production_bar4=!1;var r=0,i=function(){return 0==r?(e.show_production_bar1=!0,e.show_production_bar2=!1,void r++):1==r?(e.show_production_bar1=!1,e.show_production_bar2=!0,void r++):2==r?(e.show_production_bar3=!0,e.show_production_bar4=!1,void r++):3==r?(e.show_production_bar3=!1,e.show_production_bar4=!0,void(r=0)):void 0};n(i,3e3),function(){var e=echarts.init(document.getElementById("production_bar1")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth;option={legend:{show:!0,data:["黄瓜","叶菜","番茄","青菜"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},radiusAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],z:10,axisLine:{lineStyle:{color:"#fff"}}},angleAxis:{axisLine:{lineStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),width:5}},axisLabel:{fontSize:22,fontWeight:"bold",color:"#fff"}},tooltip:{textStyle:{fontWeight:"normal",color:"#ffffff",fontSize:22}},polar:{radius:"85%"},series:[{type:"bar",data:[2,2,3,4,5,6],coordinateSystem:"polar",name:"黄瓜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F65454"},{offset:1,color:"#F6EC66"}]),opacity:1}}},{type:"bar",data:[3,4,6,8,5,5],coordinateSystem:"polar",name:"叶菜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F65454"},{offset:1,color:"#F6EC66"}]),opacity:1}}},{type:"bar",data:[3,2,3,4,5,4],coordinateSystem:"polar",name:"番茄",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),opacity:1}}},{type:"bar",data:[3,2,3,4,3,1],coordinateSystem:"polar",name:"青菜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),opacity:1}}}]},e.setOption(option)}(),function(){var e=echarts.init(document.getElementById("production_bar2")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth;option={legend:{show:!0,data:["黄瓜","叶菜","番茄","青菜"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},radiusAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],z:10,axisLine:{lineStyle:{color:"#fff"}}},angleAxis:{axisLine:{lineStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),width:5}},axisLabel:{fontSize:22,fontWeight:"bold",color:"#fff"}},tooltip:{textStyle:{fontWeight:"normal",color:"#ffffff",fontSize:22}},polar:{radius:"85%"},series:[{type:"bar",data:[2,3,2,2,4,3],coordinateSystem:"polar",name:"黄瓜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F65454"},{offset:1,color:"#F6EC66"}]),opacity:1}}},{type:"bar",data:[1,5,1,5,3,4],coordinateSystem:"polar",name:"叶菜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F65454"},{offset:1,color:"#F6EC66"}]),opacity:1}}},{type:"bar",data:[4,4,1,2,5,4],coordinateSystem:"polar",name:"番茄",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),opacity:1}}},{type:"bar",data:[1,3,2,5,4,2],coordinateSystem:"polar",name:"青菜",stack:"a",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6EC66"},{offset:1,color:"#F65454"}]),opacity:1}}}]},e.setOption(option)}(),function(){var e=echarts.init(document.getElementById("production_bar3")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth;option={angleAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],z:10,axisLine:{lineStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}]),width:5}},axisLabel:{fontSize:18,fontWeight:"bold",color:"#fff"}},legend:{show:!0,data:["黄瓜","叶菜","番茄","青菜"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},tooltip:{textStyle:{fontWeight:"normal",color:"#ffffff",fontSize:22}},radiusAxis:{axisLine:{lineStyle:{color:"#fff"}}},polar:{radius:"85%"},series:[{type:"bar",data:[1,2,3,4,3,5,1],coordinateSystem:"polar",name:"黄瓜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[2,5,5,2,5,2,1],coordinateSystem:"polar",name:"叶菜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[1,2,3,4,1,2,5],coordinateSystem:"polar",name:"番茄",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[1,5,3,4,5,5,7],coordinateSystem:"polar",name:"青菜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])}]},e.setOption(option)}(),function(){var e=echarts.init(document.getElementById("production_bar4")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth;option={angleAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],z:10,axisLine:{lineStyle:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}]),width:5}},axisLabel:{fontSize:18,fontWeight:"bold",color:"#fff"}},legend:{show:!0,data:["黄瓜","叶菜","番茄","青菜"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},tooltip:{textStyle:{fontWeight:"normal",color:"#ffffff",fontSize:22}},radiusAxis:{axisLine:{lineStyle:{color:"#fff"}}},polar:{radius:"85%"},series:[{type:"bar",data:[1,1,1,1,1,1,1],coordinateSystem:"polar",name:"黄瓜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[2,2,2,2,2,2,2],coordinateSystem:"polar",name:"叶菜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[2,1,3,2,2,3,2],coordinateSystem:"polar",name:"番茄",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])},{type:"bar",data:[1,1,1,1,1,1,1],coordinateSystem:"polar",name:"青菜",stack:"a",color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00fcae"},{offset:1,color:"#006388"}])}]},e.setOption(option)}()}]),app.controller("qualityTraceCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("storage_quality_radar"));dataBJ=[[532,234,267,313,309]],indicatorData=[{name:"主仓库",max:600},{name:"在途",max:600},{name:"当代门店",max:600},{name:"农科院门店",max:600},{name:"周转库",max:600}],option_storage_quality_radar={color:["#dccefd","#c264fe","#a82ffc","#7a08fa"],tooltip:{trigger:"item",textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},radar:{center:["50%","50%"],indicator:indicatorData,radius:"80%",splitNumber:1,name:{textStyle:{fontWeight:"bold",color:"#c264fe",fontSize:17}},splitLine:{lineStyle:{color:"#c264fe",opacity:.5}},splitArea:{show:!0,areaStyle:{color:"#c0c0bb",opacity:.1}},axisLine:{show:!0,lineStyle:{color:"#c264fe",opacity:.5}}},series:[{name:"雷达线13",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:1}},data:[[600,600,600,600,600]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"#dbdbd6",opacity:.1}}},{name:"雷达线14",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:1}},data:[[500,500,500,500,500]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"#acaca7",opacity:.1}}},{name:"雷达线2",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:.8}},data:[[400,400,400,400,400]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"rgba(0,0,0,0)",opacity:.1}}},{name:"雷达线3",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:.6}},data:[[300,300,300,300,300]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"rgba(0,0,0,0)",opacity:.1}}},{name:"雷达线4",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:.4}},data:[[200,200,200,200,200]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"rgba(0,0,0,0)",opacity:.1}}},{name:"雷达线5",type:"radar",silent:!0,lineStyle:{normal:{type:"solid",color:"#c264fe",width:2,opacity:.2}},data:[[100,100,100,100,100]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"rgba(0,0,0,0)",opacity:.1}}},{name:"仓储量（kg）",type:"radar",lineStyle:{normal:{width:1,opacity:.5}},data:dataBJ,symbolSize:4,itemStyle:{normal:{borderColor:"02C39A",borderWidth:5}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#cb9ffa"},{offset:1,color:"#a22ffe"}],globalCoord:!1},opacity:.5}}},{name:"雷达线",type:"radar",silent:!0,lineStyle:{
normal:{type:"dotted",width:4,opacity:.3}},data:[[6,5,6,4,2]],itemStyle:{normal:{opacity:0}},areaStyle:{normal:{color:"#fc85ae",opacity:.2}}}]},e.setOption(option_storage_quality_radar)}(),function(){var e=echarts.init(document.getElementById("purch_quality")),t=[249.6,201.6,135.6,105.6,57.6,9.6],o=[297.6,100,50,20,10,0],a=[48,48,48,48,48,48];option_purch_quality={color:["#dccefd","#c264fe","#a82ffc","#7a08fa"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["剩余量","领用量","采购量"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["一月","二月","三月","四月","五月","六月"],axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}}}],series:[{name:"采购量",type:"bar",data:o,itemStyle:{normal:{barBorderRadius:5}}},{name:"领用量",type:"bar",data:a,markLine:{lineStyle:{normal:{type:"dashed"}}},itemStyle:{normal:{barBorderRadius:5}}},{name:"剩余量",type:"line",data:t,markLine:{lineStyle:{normal:{type:"dashed"}}},itemStyle:{normal:{barBorderRadius:5}}}]},e.setOption(option_purch_quality)}(),function(){var e=echarts.init(document.getElementById("product_quality"));option_product_quality={color:["#dccefd","#c264fe","#a82ffc","#7a08fa"],tooltip:{trigger:"item",formatter:"{a} {b} :{d}%",textStyle:{color:"#fff",fontSize:22}},legend:{top:"0%",left:"1%",orient:"vertical",data:["生物防治","物理防治"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:17}},series:[{name:"",type:"pie",radius:"33%",center:["30%","20%"],data:[{value:35,name:"生物防治",itemStyle:{normal:{color:""}}},{value:55,name:"物理防治",itemStyle:{normal:{color:""}}}],label:{normal:{textStyle:{color:"",fontSize:17,fontWeight:"bold"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},{name:"",type:"pie",radius:"33%",center:["70%","20%"],data:[{value:5,name:"生物防治",itemStyle:{normal:{color:""}}},{value:25,name:"物理防治",itemStyle:{normal:{color:""}}}],label:{normal:{offset:[,100],textStyle:{color:"",fontSize:17,fontWeight:"bold"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},{name:"",type:"pie",radius:"33%",center:["30%","65%"],data:[{value:35,name:"生物防治",itemStyle:{normal:{color:""}}},{value:90,name:"物理防治",itemStyle:{normal:{color:""}}}],label:{normal:{textStyle:{color:"",fontSize:17,fontWeight:"bold"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},{name:"",type:"pie",radius:"33%",center:["70%","65%"],data:[{value:15,name:"生物防治",itemStyle:{normal:{color:""}}},{value:90,name:"物理防治",itemStyle:{normal:{color:""}}}],label:{normal:{position:"outside",textStyle:{color:"",fontSize:17,fontWeight:"bold"}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},e.setOption(option_product_quality)}(),e.check_arr=[{checkNo:"AG172101V",checkPhoto:"checkJPG1.jpg",checkName:"奶油生菜",checkDate:"2017.06.01",checkMechanism:"农业部蔬菜品质监督检查测试中心（北京）",checkResult:"合格",checkUserName:"毕有成"},{checkNo:"AG172103V",checkPhoto:"checkJPG1.jpg",checkName:"奶油生菜",checkDate:"2017.06.01",checkMechanism:"农业部蔬菜品质监督检查测试中心（北京）",checkResult:"合格",checkUserName:"毕有成"},{checkNo:"AG172103T",checkPhoto:"checkJPG4.jpg",checkName:"番茄",checkDate:"2017.06.01",checkMechanism:"PONY谱尼测试",checkResult:"合格",checkUserName:"毕有成"},{checkNo:"AG172102T",checkPhoto:"checkJPG2.jpg",checkName:"榆黄菇",checkDate:"2017.06.01",checkMechanism:"PONY谱尼测试",checkResult:"合格",checkUserName:"毕有成"},{checkNo:"AG172102M",checkPhoto:"checkJPG3.jpg",checkName:"姬松茸",checkDate:"2017.05.29",checkMechanism:"PONY谱尼测试",checkResult:"合格",checkUserName:"毕有成"}],e.storage_quality_arr=[{checkNo:"AG172501T",checkName:"番茄",storageTime:"2017.06.22",storagePosition:"主仓库",storageTemp:"12℃",storageHumidity:"80%RH",PackingWay:"塑料"},{checkNo:"AG172501C",checkName:"黄瓜",storageTime:"2017.06.22",storagePosition:"主仓库",storageTemp:"13.2℃",storageHumidity:"80.8%RH",PackingWay:"纸盒"},{checkNo:"AG172503T",checkName:"番茄",storageTime:"2017.06.30",storagePosition:"农科院门店",storageTemp:"12.7℃",storageHumidity:"80.5%RH",PackingWay:"聚乙烯盒"},{checkNo:"AG172501N",checkName:"滑子菇",storageTime:"2017.06.21",storagePosition:"在途",storageTemp:"11.6℃",storageHumidity:"80.5%RH",PackingWay:"聚乙烯盒"},{checkNo:"AG172402V",checkName:"奶油生菜",storageTime:"2017.06.15",storagePosition:"农科院门店",storageTemp:"13.5℃",storageHumidity:"81%RH",PackingWay:"纸盒"}]}]),app.controller("waterCtrl",["$scope","$http","ajax_factoryIndex","$timeout",function(e,t,o,a){!function(){var e=echarts.init(document.getElementById("water_sankey")),t={nodes:[{name:"总用水量"},{name:"国家农业科技展示园"},{name:"中粮智慧农场"},{name:"东营一期"},{name:"贵阳园区"},{name:"温室"},{name:"植物工厂"},{name:"食用菌工厂"},{name:"其他"},{name:"施肥机"},{name:"空调"},{name:"锅炉"},{name:"暖气"},{name:"办公设备"},{name:"冷库"},{name:"机房"},{name:"中控室"},{name:"加湿设备"},{name:"其它"}],links:[{source:"总用水量",target:"中粮智慧农场",value:4455},{source:"总用水量",target:"国家农业科技展示园",value:7977},{source:"总用水量",target:"东营一期",value:6354},{source:"总用水量",target:"贵阳园区",value:9540},{source:"国家农业科技展示园",target:"温室",value:1020},{source:"国家农业科技展示园",target:"植物工厂",value:201},{source:"国家农业科技展示园",target:"食用菌工厂",value:141},{source:"国家农业科技展示园",target:"其他",value:5700},{source:"中粮智慧农场",target:"温室",value:1086},{source:"中粮智慧农场",target:"植物工厂",value:2772},{source:"中粮智慧农场",target:"食用菌工厂",value:135},{source:"中粮智慧农场",target:"其他",value:444},{source:"东营一期",target:"温室",value:3600},{source:"东营一期",target:"其他",value:1314},{source:"东营一期",target:"食用菌工厂",value:1407},{source:"贵阳园区",target:"温室",value:2600},{source:"贵阳园区",target:"其他",value:1314},{source:"贵阳园区",target:"食用菌工厂",value:4070},{source:"温室",target:"暖气",value:1e3},{source:"温室",target:"施肥机",value:5280},{source:"温室",target:"包装设备",value:3990},{source:"温室",target:"其它",value:3e3},{source:"植物工厂",target:"其它",value:3e3},{source:"食用菌工厂",target:"锅炉",value:1830},{source:"食用菌工厂",target:"暖气",value:1e3},{source:"食用菌工厂",target:"其它",value:5e3},{source:"其他",target:"冷库",value:1308},{source:"其他",target:"机房",value:3360},{source:"其他",target:"中控室",value:1330}]},o={tooltip:{trigger:"item",triggerOn:"mousemove",textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},series:[{type:"sankey",layout:"none",data:t.nodes,links:t.links,itemStyle:{normal:{borderWidth:.5,borderColor:"#878787",color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#89eedf"},{offset:1,color:"#00bbf0"}],globalCoord:!1}}},lineStyle:{normal:{color:"#2d70ae",curveness:.5,opacity:.3,shadowBlur:20,shadowColor:"#fff",shadowOffsetX:0,shadowOffsetY:0},emphasis:{color:"#cdcdcd",opacity:.2,curveness:.5,shadowBlur:20,shadowColor:20,shadowOffsetX:0,shadowOffsetY:0}},label:{normal:{show:!0,position:"right",offset:[0][0],textStyle:{color:"#a2dbbd",fontStyle:"normal",fontWeight:"bold",fontFamily:"sans-serif",fontSize:18}}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("gas_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#78fff0","#005792","#00BBF0","#0074E4","#D9FAFF"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["国家农业科技展示园","中粮智慧农场","东营园区","贵州园区"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["一月","二月","三月","四月","五月","六月"],axisLine:{lineStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#fff"}}}],series:[{name:"国家农业科技展示园",type:"bar",data:[320,332,301,334,390,330],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",stack:"天然气用量",data:[120,132,101,134,90,230],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",stack:"天然气用量",data:[220,182,191,234,290,330],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵州园区",type:"bar",data:[362,418,564,626,779,800],markLine:{lineStyle:{normal:{type:"dashed"}},data:[[{type:"min"},{type:"max"}]]},itemStyle:{normal:{barBorderRadius:10}}}]};e.setOption(o)}(),function(){var e=echarts.init(document.getElementById("water_bar")),t=window.document.body.clientWidth||window.document.documentElement.clientWidth,o={color:["#78fff0","#005792","#00BBF0","#0074E4","#D9FAFF"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontWeight:"normal",color:"#fff",fontSize:22}},legend:{data:["国家农业科技展示园","中粮智慧农场","东营园区","贵阳园区"],textStyle:{color:"#fff",fontWeight:"bold",fontSize:t>1600?17:13}},grid:{top:"8%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],axisLine:{lineStyle:{color:"#fff"}}},yAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月"],axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"国家农业科技展示园",type:"bar",data:[8203,35489,45879,114970,91744,30230],itemStyle:{normal:{barBorderRadius:10}}},{name:"中粮智慧农场",type:"bar",data:[9325,34538,69852,21594,34141,81807],itemStyle:{normal:{barBorderRadius:10}}},{name:"东营园区",type:"bar",data:[88325,58438,5e4,121594,54141,61807],itemStyle:{normal:{barBorderRadius:10}}},{name:"贵阳园区",type:"bar",data:[93425,88438,6e4,9e4,52141,71807],itemStyle:{normal:{barBorderRadius:10}}}]};e.setOption(o)}()}]),app.directive("commonLeftMenu",function(){return{restrict:"AE",replace:!0,templateUrl:"factory_common_leftMenu.html",scope:{"do":"="},controller:["$scope","$element",function(e,t){e.arr_common_leftMenu_1=[{name:"工厂拓扑图",href:"factoryMap"},{name:"工厂类型配置",href:"factoryType"},{name:"植物工厂配置",href:"plantFactory"},{name:"监控设备配置",href:"factoryCamera"},{name:"modbus/RTU配置",href:"modbusRTU"},{name:"modbus/TCP配置",href:"modbusTCP"},{name:"传感器配置",href:"sensor"},{name:"执行机构配置",href:"nameActuator"},{name:"执行脚本配置",href:"exeScript"},{name:"日志运行配置",href:"logConfig"}],e.arr_common_leftMenu_2=[{name:"用户管理",href:"userConfig"},{name:"角色管理",href:"userRoleConfig"}],e.arr_common_leftMenu_3=[{name:"系统运行日志",href:"logSystemRun"},{name:"用户操作日志",href:"logUserOperate"},{name:"业务操作日志",href:"logBusinessOperate"},{name:"系统报警日志",href:"logSystemWarning"}];var o=!1;e.addColor=function(e,t){o=!0,e=e||window.event;var a=document.getElementsByClassName("first_menu"),n=document.getElementsByClassName("first_menu_div"),r=e.target||e.srcElement;"li"==r.nodeName.toLowerCase()&&(angular.element(a).find("li").removeClass("li_active"),angular.element(r).addClass("li_active")),"span"==r.nodeName.toLowerCase()&&(angular.element(a).find("li").removeClass("li_active"),angular.element(r).parent("li").addClass("li_active")),"div"==r.nodeName.toLowerCase()&&(angular.element(n).find("ul").addClass("ul_hide_or_show"),angular.element(r).next("ul").removeClass("ul_hide_or_show"),angular.element(n).find("section").addClass("rotateIcon"),angular.element(r).children("section").removeClass("rotateIcon")),"section"==r.nodeName.toLowerCase()&&(angular.element(r).hasClass("rotateIcon")?(angular.element(n).parent().find("ul").addClass("ul_hide_or_show"),angular.element(r).parent().next("ul").removeClass("ul_hide_or_show"),angular.element(n).find("section").addClass("rotateIcon"),angular.element(r).removeClass("rotateIcon")):(angular.element(r).parent().next("ul").addClass("ul_hide_or_show"),angular.element(r).addClass("rotateIcon")))},e["do"]=window.localStorage.getItem("title_page_top"),e.click_change_title_page_top=function(t){window.localStorage.setItem("title_page_top",t),e["do"]=window.localStorage.getItem("title_page_top")}}]}}),app.directive("commonShowalerttxtbox",function(){return{restrict:"AE",replace:!1,templateUrl:"factory_common_showAlertTxtbox.html",scope:{btnShowNum:"=",confirmBtn:"=","do":"=",alertTxt:"@"},link:function(e,t,o){e.alertTxt=o.alertTxt},controller:["$scope","$element",function(e,t){e.var_common_close=function(){e["do"]=!1},e.btnShowNum=1,e.confirmBtn=0,e.confirmBtn_fn=function(){e.confirmBtn>1e4?e.confirmBtn--:e.confirmBtn++,console.log(e.confirmBtn)}}]}}),app.filter("trustAsHtml",function(e){return function(t){return e.trustAsHtml(t)}}).filter("dateFullTime",function(){return function(e){try{1*e==e&&(e=new Number(e)),e instanceof Date||(e=new Date(e));var t=new Date(e),o=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return o}catch(a){return e}}}).filter("unique",function(){return function(e,t){var o=[],a=[];return angular.forEach(e,function(e){var n=e[t];a.indexOf(n)===-1&&(a.push(n),o.push(e))}),o}});