{"version":3,"sources":["echarts.mine.js"],"names":["$","response","data","bottomLinks","source","target","node","id","level","name","type","topLinks","error_code","arr_level","x","y","allLink","myChart","echarts","init","document","getElementById","option","title","text","tooltip","animationDurationUpdate","animationEasingUpdate","series","layout","symbolSize","roam","label","normal","show","edgeSymbol","edgeSymbolSize","edgeLabel","textStyle","fontSize","links","lineStyle","opacity","width","curveness","setOption","on","params","componentType","seriesIndex","seriesType","dataType","console","log","ajax_id","i","len","arr_level_1","length"],"mappings":"AAAAA,EAAE,WAkBE,GAAIC,IACAC,MACIC,cACKC,OAAS,MAAMC,OAAS,UACxBD,OAAS,MAAMC,OAAS,UACxBD,OAAS,OAAOC,OAAS,UACzBD,OAAS,OAAOC,OAAS,UACzBD,OAAS,OAAOC,OAAS,UAC9BC,OACKC,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,OAAOC,KAAO,YAC3EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,OAAOC,KAAO,YAC3EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,MAAMC,KAAO,YAC1EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,MAAMC,KAAO,YAC1EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,OAAOC,KAAO,YAC3EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,OAAOC,KAAO,YAC3EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,OAAOC,KAAO,YAC3EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,QAAQC,KAAO,QAC5EH,GAAK,uCAAuCC,MAAQ,EAAEC,KAAO,QAAQC,KAAO,QAEjFC,WACKP,OAAS,MAAMC,OAAS,SACxBD,OAAS,MAAMC,OAAS,SACxBD,OAAS,OAAOC,OAAS,SACzBD,OAAS,OAAOC,OAAS,SACzBD,OAAS,OAAOC,OAAS,UAGlCO,WAAa,GASbC,GALUZ,EAASC,KAAKI,KAChBL,EAASC,KAAKS,SACdV,EAASC,KAAKC,cAKtBM,KAAM,MACNK,EAAG,IACHC,EAAG,MAEHN,KAAM,MACNK,EAAG,IACHC,EAAG,MAEHN,KAAM,MACNK,EAAG,IACHC,EAAG,MAEHN,KAAM,MACNK,EAAG,IACHC,EAAG,OAGHC,IAEAZ,OAAQ,MACRC,OAAQ,QAERD,OAAQ,MACRC,OAAQ,QAERD,OAAQ,MACRC,OAAQ,QAERD,OAAQ,MACRC,OAAQ,QAERD,OAAQ,MACRC,OAAQ,QAGRY,EAAUC,QAAQC,KAAKC,SAASC,eAAe,SAC/CC,GACAC,OACIC,KAAM,IAEVC,WACAC,wBAAyB,KACzBC,sBAAuB,eACvBC,SAEQlB,KAAM,QACNmB,OAAQ,OACRC,WAAY,GACZC,MAAM,EACNC,OACIC,QACIC,MAAM,IAGdC,YAAa,SAAU,SACvBC,gBAAiB,EAAG,IACpBC,WACIJ,QACIK,WACIC,SAAU,MAItBrC,KAAKW,EACL2B,MAAOxB,EACPyB,WACIR,QACIS,QAAS,GACTC,MAAO,EACPC,UAAW,MAQ/B3B,GAAQ4B,UAAUvB,GAElBL,EAAQ6B,GAAG,QAAS,SAAUC,GAC1B,GAA6B,cAAzBA,EAAOC,cAEoB,IAAvBD,EAAOE,gBAIV,IAA6B,WAAzBF,EAAOC,eACc,UAAtBD,EAAOG,WACP,GAAwB,SAApBH,EAAOI,cAGN,CAEDC,QAAQC,IAAIN,EAAOtC,KAEnB,KAAI,GADA6C,GAAU,GACNC,EAAG,EAAEC,EAAIC,YAAYC,OAAOH,EAAEC,EAAID,IACtC,GAAIR,EAAOtC,MAAQgD,YAAYF,GAAG9C,KAAM,CACpC6C,EAAUG,YAAYF,GAAGhD,EACzB,OAGR6C,QAAQC,IAAKC","file":"echarts.mine.js","sourcesContent":["$(function(){\r\n\r\n\r\n    //$.ajax({\r\n    //    type: 'POST',\r\n    //    url: 'http://192.168.1.199:8080/GCPI/sysconfig/devicedetail',\r\n    //    data: '{}',\r\n    //    success: function (response) {\r\n    //        if( response.error_code == 0 ){\r\n    //\r\n    //\r\n    //        }else{\r\n    //\r\n    //        }\r\n    //    },\r\n    //    dataType: 'json'\r\n    //});\r\n\r\n    var response = {\r\n        \"data\": {\r\n            \"bottomLinks\":[\r\n                {\"source\":\"回液泵\",\"target\":\"test1\"},\r\n                {\"source\":\"供液泵\",\"target\":\"test1\"},\r\n                {\"source\":\"入气风机\",\"target\":\"test1\"},\r\n                {\"source\":\"补光灯2\",\"target\":\"test1\"},\r\n                {\"source\":\"补光灯1\",\"target\":\"test1\"}],\r\n            \"node\":[\r\n                {\"id\":\"cb21c80e-9467-42fc-ae15-49a6f1772884\",\"level\":0,\"name\":\"叶菜工厂\",\"type\":\"factory\"},\r\n                {\"id\":\"7bdcae08-7071-4d84-b999-fc782b5d7baa\",\"level\":0,\"name\":\"果菜工厂\",\"type\":\"factory\"},\r\n                {\"id\":\"69a8fb68-ec63-49bd-a674-bbd59cf201b1\",\"level\":1,\"name\":\"回液泵\",\"type\":\"exeunit\"},\r\n                {\"id\":\"6819904e-5a92-4dd9-93f6-1e359ea85334\",\"level\":1,\"name\":\"供液泵\",\"type\":\"exeunit\"},\r\n                {\"id\":\"4acdb79d-fa4e-43df-8e7e-43e13efb217f\",\"level\":1,\"name\":\"入气风机\",\"type\":\"exeunit\"},\r\n                {\"id\":\"5e9f8f5c-30c2-4953-8169-dd62ee0de446\",\"level\":1,\"name\":\"补光灯2\",\"type\":\"exeunit\"},\r\n                {\"id\":\"4547916d-9702-48eb-94fd-8f699b0befdb\",\"level\":1,\"name\":\"补光灯1\",\"type\":\"exeunit\"},\r\n                {\"id\":\"e6793610-73eb-41bb-8998-fea4dc526e55\",\"level\":2,\"name\":\"test1\",\"type\":\"com\"},\r\n                {\"id\":\"946f8fd9-627a-4694-9350-9f2378ec3ce6\",\"level\":2,\"name\":\"test1\",\"type\":\"com\"}\r\n            ],\r\n            \"topLinks\": [\r\n                {\"source\":\"回液泵\",\"target\":\"叶菜工厂\"},\r\n                {\"source\":\"供液泵\",\"target\":\"叶菜工厂\"},\r\n                {\"source\":\"入气风机\",\"target\":\"叶菜工厂\"},\r\n                {\"source\":\"补光灯2\",\"target\":\"叶菜工厂\"},\r\n                {\"source\":\"补光灯1\",\"target\":\"叶菜工厂\"}\r\n            ]\r\n        },\r\n        \"error_code\":0\r\n    };\r\n    //var response = JSON.parse(response_);\r\n\r\n    var allNode = response.data.node;\r\n    var arr_1 = response.data.topLinks;\r\n    var arr_2 = response.data.bottomLinks;\r\n    //var allLink = arr_1.concat.apply(arr_1, arr_2);\r\n\r\n    var arr_level = [\r\n        {\r\n        name: '节点1',\r\n        x: 300,\r\n        y: 300\r\n    }, {\r\n        name: '节点2',\r\n        x: 800,\r\n        y: 300\r\n    }, {\r\n        name: '节点3',\r\n        x: 550,\r\n        y: 100\r\n    }, {\r\n        name: '节点4',\r\n        x: 550,\r\n        y: 500\r\n    }];\r\n\r\n    var allLink = [\r\n        {\r\n        source: '节点2',\r\n        target: '节点1'\r\n    }, {\r\n        source: '节点1',\r\n        target: '节点3'\r\n    }, {\r\n        source: '节点2',\r\n        target: '节点3'\r\n    }, {\r\n        source: '节点2',\r\n        target: '节点4'\r\n    }, {\r\n        source: '节点1',\r\n        target: '节点4'\r\n    }];\r\n\r\n    var myChart = echarts.init(document.getElementById('main'));\r\n    var option = {\r\n        title: {\r\n            text: ''\r\n        },\r\n        tooltip: {},\r\n        animationDurationUpdate: 1500,\r\n        animationEasingUpdate: 'quinticInOut',\r\n        series : [\r\n            {\r\n                type: 'graph',\r\n                layout: 'none',\r\n                symbolSize: 80, //红色圆形的宽高\r\n                roam: true,\r\n                label: {\r\n                    normal: {\r\n                        show: true\r\n                    }\r\n                },\r\n                edgeSymbol: ['circle', 'arrow'],\r\n                edgeSymbolSize: [4, 10],\r\n                edgeLabel: {\r\n                    normal: {\r\n                        textStyle: {\r\n                            fontSize: 20\r\n                        }\r\n                    }\r\n                },\r\n                data:arr_level,\r\n                links: allLink,\r\n                lineStyle: {\r\n                    normal: {\r\n                        opacity: 0.9,\r\n                        width: 2,\r\n                        curveness: 0\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };\r\n\r\n    // 使用刚指定的配置项和数据显示图表。\r\n    myChart.setOption(option);\r\n    //    console.log( option.series[0].data );\r\n    myChart.on('click', function (params) {\r\n        if (params.componentType === 'markPoint') {\r\n            // 点击到了 markPoint 上\r\n            if (params.seriesIndex === 5) {\r\n                // 点击到了 index 为 5 的 series 的 markPoint 上。\r\n            }\r\n        }\r\n        else if (params.componentType === 'series') {\r\n            if (params.seriesType === 'graph') {\r\n                if (params.dataType === 'edge') {\r\n                    // 点击到了 graph 的 edge（边）上。\r\n                }\r\n                else {\r\n                    // 点击到了 graph 的 node（节点）上。 params.name得到节点的name\r\n                    console.log(params.name);\r\n                    var ajax_id = '';\r\n                    for(var i= 0,len=arr_level_1.length;i<len;i++){\r\n                        if( params.name == arr_level_1[i].name ){\r\n                            ajax_id = arr_level_1[i].id;\r\n                            break;\r\n                        }\r\n                    }\r\n                    console.log( ajax_id );\r\n                }\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});\r\n\r\n"]}